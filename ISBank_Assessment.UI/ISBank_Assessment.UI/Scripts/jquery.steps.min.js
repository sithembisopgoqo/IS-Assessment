/*! 
 * jQuery Steps v1.1.0 - 09/04/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
(function(n,t){function wt(n,t){l(n).push(t)}function bt(i,f,o){var s=i.children(f.headerTag),c=i.children(f.bodyTag),l,v,h;s.length>c.length?r(et,"contents"):s.length<c.length&&r(et,"titles");l=f.startIndex;o.stepCount=s.length;f.saveState&&n.cookie&&(v=n.cookie(ft+e(i)),h=parseInt(v,0),!isNaN(h)&&h<o.stepCount&&(l=h));o.currentIndex=l;s.each(function(r){var s=n(this),f=c.eq(r),e=f.data("mode"),o=e==null?u.html:a(u,/^\s*$/.test(e)||isNaN(e)?e:parseInt(e,0)),h=o===u.html||f.data("url")===t?"":f.data("url"),l=o!==u.html&&f.data("loaded")==="1",v=n.extend({},pt,{title:s.html(),content:o===u.html?f.html():"",contentUrl:h,contentMode:o,contentLoaded:l});wt(i,v)})}function kt(n){n.triggerHandler("canceled")}function dt(n,t){return n.currentIndex-t}function gt(t,i){var e=b(t),f,r,u;return t.unbind(e).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(e),t.removeClass(i.clearFixCssClass+" vertical"),f=t.find(".content > *"),f.removeData("loaded").removeData("mode").removeData("url"),f.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),t.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty(),r=n('<{0} class="{1}"><\/{0}>'.format(t.get(0).tagName,t.attr("class"))),u=t._id(),u!=null&&u!==""&&r._id(u),r.html(t.find(".content").html()),t.after(r),t.remove(),r}function ot(n,t){var i=n.find(".steps li").eq(t.currentIndex);n.triggerHandler("finishing",[t.currentIndex])?(i.addClass("done").removeClass("error"),n.triggerHandler("finished",[t.currentIndex])):i.addClass("error")}function b(n){var t=n.data("eventNamespace");return t==null&&(t="."+e(n),n.data("eventNamespace",t)),t}function s(n,t){var i=e(n);return n.find("#"+i+p+t)}function k(n,t){var i=e(n);return n.find("#"+i+h+t)}function ni(n,t){var i=e(n);return n.find("#"+i+c+t)}function f(n){return n.data("options")}function i(n){return n.data("state")}function l(n){return n.data("steps")}function d(n,t){var i=l(n);return(t<0||t>=i.length)&&r(w),i[t]}function e(n){var t=n.data("uid");return t==null&&(t=n._id(),t==null&&(t="steps-uid-".concat(y),n._id(t)),y++,n.data("uid",t)),t}function a(n,i){var u,f;if(yt("enumType",n),yt("keyOrValue",i),typeof i=="string")return u=n[i],u===t&&r("The enum key '{0}' does not exist.",i),u;if(typeof i=="number"){for(f in n)if(n[f]===i)return i;r("Invalid enum value '{0}'.",i)}else r("Invalid key or value type.")}function g(n,t,i){return ct(n,t,i,ii(i,1))}function nt(n,t,i){return ct(n,t,i,dt(i,1))}function ti(n,t,i,u){if((u<0||u>=i.stepCount)&&r(w),!t.forceMoveForward||!(u<i.currentIndex)){var f=i.currentIndex;return n.triggerHandler("stepChanging",[i.currentIndex,u])?(i.currentIndex=u,rt(n,t,i),tt(n,t,i,f),v(n,t,i),ht(n,t,i),ai(n,t,i,u,f,function(){n.triggerHandler("stepChanged",[u,f])})):n.find(".steps li").eq(f).addClass("error"),!0}}function ii(n,t){return n.currentIndex+t}function ri(t){var i=n.extend(!0,{},yi,t);return this.each(function(){var t=n(this),r={currentIndex:i.startIndex,currentStep:null,stepCount:0,transitionElement:null};t.data("options",i);t.data("state",r);t.data("steps",[]);bt(t,i,r);ci(t,i,r);oi(t,i);i.autoFocus&&y===0&&s(t,i.startIndex).focus();t.triggerHandler("init",[i.startIndex])})}function st(t,i,f,e,o){(e<0||e>f.stepCount)&&r(w);o=n.extend({},pt,o);ui(t,e,o);f.currentIndex!==f.stepCount&&f.currentIndex>=e&&(f.currentIndex++,rt(t,i,f));f.stepCount++;var c=t.find(".content"),h=n("<{0}>{1}<\/{0}>".format(i.headerTag,o.title)),s=n("<{0}><\/{0}>".format(i.bodyTag));return(o.contentMode==null||o.contentMode===u.html)&&s.html(o.content),e===0?c.prepend(s).prepend(h):k(t,e-1).after(s).after(h),at(t,f,s,e),vt(t,i,f,h,e),lt(t,i,f,e),e===f.currentIndex&&tt(t,i,f),v(t,i,f),t}function ui(n,t,i){l(n).splice(t,0,i)}function fi(t){var r=n(this),u=f(r),o=i(r),e;if(u.suppressPaginationOnFocus&&r.find(":focus").is(":input"))return t.preventDefault(),!1;e={left:37,right:39};t.keyCode===e.left?(t.preventDefault(),nt(r,u,o)):t.keyCode===e.right&&(t.preventDefault(),g(r,u,o))}function ht(t,i,r){var e,f,o;if(r.stepCount>0&&(e=r.currentIndex,f=d(t,e),!i.enableContentCache||!f.contentLoaded))switch(a(u,f.contentMode)){case u.iframe:t.find(".content > .body").eq(r.currentIndex).empty().html('<iframe src="'+f.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case u.async:o=k(t,e)._aria("busy","true").empty().append(it(i.loadingTemplate,{text:i.labels.loading}));n.ajax({url:f.contentUrl,cache:!1}).done(function(n){o.empty().html(n)._aria("busy","false").data("loaded","1");t.triggerHandler("contentLoaded",[e])})}}function ct(n,t,i,r){var e=i.currentIndex;if(r>=0&&r<i.stepCount&&!(t.forceMoveForward&&r<i.currentIndex)){var f=s(n,r),u=f.parent(),o=u.hasClass("disabled");return(u._enableAria(),f.click(),e===i.currentIndex&&o)?(u._enableAria(!1),!1):!0}return!1}function ei(t){t.preventDefault();var e=n(this),r=e.parent().parent().parent().parent(),o=f(r),u=i(r),s=e.attr("href");switch(s.substring(s.lastIndexOf("#")+1)){case"cancel":kt(r);break;case"finish":ot(r,u);break;case"next":g(r,o,u);break;case"previous":nt(r,o,u)}}function v(n,t,i){var r,u,f;t.enablePagination&&(r=n.find(".actions a[href$='#finish']").parent(),u=n.find(".actions a[href$='#next']").parent(),t.forceMoveForward||(f=n.find(".actions a[href$='#previous']").parent(),f._enableAria(i.currentIndex>0)),t.enableFinishButton&&t.showFinishButtonAlways?(r._enableAria(i.stepCount>0),u._enableAria(i.stepCount>1&&i.stepCount>i.currentIndex+1)):(r._showAria(t.enableFinishButton&&i.stepCount===i.currentIndex+1),u._showAria(i.stepCount===0||i.stepCount>i.currentIndex+1)._enableAria(i.stepCount>i.currentIndex+1||!t.enableFinishButton)))}function tt(t,i,r,u){var e=s(t,r.currentIndex),o=n('<span class="current-info audible">'+i.labels.current+" <\/span>"),h=t.find(".content > .title"),f;u!=null&&(f=s(t,u),f.parent().addClass("done").removeClass("error")._selectAria(!1),h.eq(u).removeClass("current").next(".body").removeClass("current"),o=f.find(".current-info"),e.focus());e.prepend(o).parent()._selectAria().removeClass("done")._enableAria();h.eq(r.currentIndex).addClass("current").next(".body").addClass("current")}function lt(n,t,i,r){for(var f=e(n),u=r;u<i.stepCount;u++){var l=f+p+u,s=f+h+u,o=f+c+u,a=n.find(".title").eq(u)._id(o);n.find(".steps a").eq(u)._id(l)._aria("controls",s).attr("href","#"+o).html(it(t.titleTemplate,{index:u+1,title:a.html()}));n.find(".body").eq(u)._id(s)._aria("labelledby",o)}}function oi(n,t){var i=b(n);n.bind("canceled"+i,t.onCanceled);n.bind("contentLoaded"+i,t.onContentLoaded);n.bind("finishing"+i,t.onFinishing);n.bind("finished"+i,t.onFinished);n.bind("init"+i,t.onInit);n.bind("stepChanging"+i,t.onStepChanging);n.bind("stepChanged"+i,t.onStepChanged);t.enableKeyNavigation&&n.bind("keyup"+i,fi);n.find(".actions a").bind("click"+i,ei)}function si(n,t,i,r){return r<0||r>=i.stepCount||i.currentIndex===r?!1:(hi(n,r),i.currentIndex>r&&(i.currentIndex--,rt(n,t,i)),i.stepCount--,ni(n,r).remove(),k(n,r).remove(),s(n,r).parent().remove(),r===0&&n.find(".steps li").first().addClass("first"),r===i.stepCount&&n.find(".steps li").eq(r).addClass("last"),lt(n,t,i,r),v(n,t,i),!0)}function hi(n,t){l(n).splice(t,1)}function ci(t,i,r){var f='<{0} class="{1}">{2}<\/{0}>',e=a(ut,i.stepsOrientation),o=e===ut.vertical?" vertical":"",u=n(f.format(i.contentContainerTag,"content "+i.clearFixCssClass,t.html())),s=n(f.format(i.stepsContainerTag,"steps "+i.clearFixCssClass,'<ul role="tablist"><\/ul>')),h=u.children(i.headerTag),c=u.children(i.bodyTag);t.attr("role","application").empty().append(s).append(u).addClass(i.cssClass+" "+i.clearFixCssClass+o);c.each(function(i){at(t,r,n(this),i)});h.each(function(u){vt(t,i,r,n(this),u)});tt(t,i,r);li(t,i,r)}function at(n,t,i,r){var u=e(n),f=u+h+r,o=u+c+r;i._id(f).attr("role","tabpanel")._aria("labelledby",o).addClass("body")._showAria(t.currentIndex===r)}function li(n,t,i){if(t.enablePagination){var u='<li><a href="#{0}" role="menuitem">{1}<\/a><\/li>',r="";t.forceMoveForward||(r+=u.format("previous",t.labels.previous));r+=u.format("next",t.labels.next);t.enableFinishButton&&(r+=u.format("finish",t.labels.finish));t.enableCancelButton&&(r+=u.format("cancel",t.labels.cancel));n.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}<\/ul><\/{0}>'.format(t.actionContainerTag,t.clearFixCssClass,t.labels.pagination,r));v(n,t,i);ht(n,t,i)}}function it(n,i){for(var u,f,o=n.match(/#([a-z]*)#/gi),e=0;e<o.length;e++)u=o[e],f=u.substring(1,u.length-1),i[f]===t&&r("The key '{0}' does not exist in the substitute collection!",f),n=n.replace(u,i[f]);return n}function vt(t,i,r,u,f){var l=e(t),v=l+p+f,y=l+h+f,a=l+c+f,s=t.find(".steps > ul"),w=it(i.titleTemplate,{index:f+1,title:u.html()}),o=n('<li role="tab"><a id="'+v+'" href="#'+a+'" aria-controls="'+y+'">'+w+"<\/a><\/li>");o._enableAria(i.enableAllSteps||r.currentIndex>f);r.currentIndex>f&&o.addClass("done");u._id(a).attr("tabindex","-1").addClass("title");f===0?s.prepend(o):s.find("li").eq(f-1).after(o);f===0&&s.find("li").removeClass("first").eq(f).addClass("first");f===r.stepCount-1&&s.find("li").removeClass("last").eq(f).addClass("last");o.children("a").bind("click"+b(t),vi)}function rt(t,i,r){i.saveState&&n.cookie&&n.cookie(ft+e(t),r.currentIndex)}function ai(t,r,u,f,e,s){var p=t.find(".content > .body"),v=a(o,r.transitionEffect),h=r.transitionEffectSpeed,y=p.eq(f),c=p.eq(e),w,b;switch(v){case o.fade:case o.slide:w=v===o.fade?"fadeOut":"slideUp";b=v===o.fade?"fadeIn":"slideDown";u.transitionElement=y;c[w](h,function(){var r=n(this)._showAria(!1).parent().parent(),t=i(r);t.transitionElement&&(t.transitionElement[b](h,function(){n(this)._showAria()}).promise().done(s),t.transitionElement=null)});break;case o.slideLeft:var l=c.outerWidth(!0),k=f>e?-l:l,d=f>e?l:-l;n.when(c.animate({left:k},h,function(){n(this)._showAria(!1)}),y.css("left",d+"px")._showAria().animate({left:0},h)).done(s);break;default:n.when(c._showAria(!1),y._showAria()).done(s)}}function vi(t){var o,c;t.preventDefault();var u=n(this),r=u.parent().parent().parent().parent(),l=f(r),e=i(r),h=e.currentIndex;return u.parent().is(":not(.disabled):not(.current)")&&(o=u.attr("href"),c=parseInt(o.substring(o.lastIndexOf("-")+1),0),ti(r,l,e,c)),h===e.currentIndex?(s(r,h).focus(),!1):void 0}function r(n){arguments.length>1&&(n=n.format(Array.prototype.slice.call(arguments,1)));throw new Error(n);}function yt(n,t){t==null&&r("The argument '{0}' is null or undefined.",n)}n.fn.extend({_aria:function(n,t){return this.attr("aria-"+n,t)},_removeAria:function(n){return this.removeAttr("aria-"+n)},_enableAria:function(n){return n==null||n?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(n){return n==null||n?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(n){return n==null||n?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(n){return n?this.attr("id",n):this.attr("id")}});String.prototype.format||(String.prototype.format=function(){for(var u,r=arguments.length===1&&n.isArray(arguments[0])?arguments[0]:arguments,i=this,t=0;t<r.length;t++)u=new RegExp("\\{"+t+"\\}","gm"),i=i.replace(u,r[t]);return i});var y=0,ft="jQu3ry_5teps_St@te_",p="-t-",h="-p-",c="-h-",w="Index out of range.",et="One or more corresponding step {0} are missing.";n.fn.steps=function(t){if(n.fn.steps[t])return n.fn.steps[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.steps");else return ri.apply(this,arguments)};n.fn.steps.add=function(n){var t=i(this);return st(this,f(this),t,t.stepCount,n)};n.fn.steps.destroy=function(){return gt(this,f(this))};n.fn.steps.finish=function(){ot(this,i(this))};n.fn.steps.getCurrentIndex=function(){return i(this).currentIndex};n.fn.steps.getCurrentStep=function(){return d(this,i(this).currentIndex)};n.fn.steps.getStep=function(n){return d(this,n)};n.fn.steps.insert=function(n,t){return st(this,f(this),i(this),n,t)};n.fn.steps.next=function(){return g(this,f(this),i(this))};n.fn.steps.previous=function(){return nt(this,f(this),i(this))};n.fn.steps.remove=function(n){return si(this,f(this),i(this),n)};n.fn.steps.setStep=function(){throw new Error("Not yet implemented!");};n.fn.steps.skip=function(){throw new Error("Not yet implemented!");};var u=n.fn.steps.contentMode={html:0,iframe:1,async:2},ut=n.fn.steps.stepsOrientation={horizontal:0,vertical:1},o=n.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},pt=n.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:u.html,contentLoaded:!1},yi=n.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:ut.horizontal,titleTemplate:'<span class="number">#index#.<\/span> #title#',loadingTemplate:'<span class="spinner"><\/span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:o.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},onContentLoaded:function(){},onInit:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}})(jQuery);